<template>
  <div class="drawer-container">
    <h3 class="drawer-title">系统布局配置</h3>
    <div class="drawer-item">
      <span>主题颜色</span>
      <theme-picker @change="themeChange" />
    </div>
    <div class="drawer-item">
      <span>开启 Tags-Views</span>
      <el-switch v-model="tagsView" class="drawer-switch" />
    </div>
    <div class="drawer-item">
      <span>显示 Logo</span>
      <el-switch v-model="sidebarLogo" class="drawer-switch" />
    </div>
  </div>
</template>

<script>
import ThemePicker from "@/layout/components/ThemePicker";

export default {
  name: "Settings",
  components: { ThemePicker },
  data() {
    return {
    };
  },
  computed: {
    fixedHeader: {
      get() {
        return this.$store.state.global.systemSetting.fixedHeader;
      },
      set(val) {
        this.$store.dispatch('global/changeSystemSetting', { fixedHeader: val });
      },
    },
    tagsView: {
      get() {
        return this.$store.state.global.systemSetting.tagsView;
      },
      set(val) {
        this.$store.dispatch('global/changeSystemSetting', { tagsView: val });
      },
    },
    sidebarLogo: {
      get() {
        return this.$store.state.global.systemSetting.sidebarLogo;
      },
      set(val) {
        this.$store.dispatch('global/changeSystemSetting', { sidebarLogo: val });
      },
    },
  },
  methods: {
    themeChange(val) {
      this.$store.dispatch('global/changeSystemSetting', { theme: val });
    },
  },
};
</script>

<style lang="scss" scoped>
.drawer-container {
  padding: 24px;
  font-size: 14px;
  line-height: 1.5;
  word-wrap: break-word;

  .drawer-title {
    margin-bottom: 12px;
    color: rgba(0, 0, 0, .85);
    font-size: 14px;
    line-height: 22px;
  }

  .drawer-item {
    color: rgba(0, 0, 0, .65);
    font-size: 14px;
    padding: 12px 0;
  }

  .drawer-switch {
    float: right
  }
}
</style>
